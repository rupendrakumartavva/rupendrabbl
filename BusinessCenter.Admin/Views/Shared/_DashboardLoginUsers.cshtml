@using BusinessCenter.Admin.Helpers
@model BusinessCenter.Admin.Models.DashBoardViewModel
<div>
    <table class="table table-striped table-bordered table-responsive  dataTable smartgrid" id="datalogin" role="grid">
        <thead>
            <tr>
                <th class="text-center">Name</th>
                <th class="text-center">Last Login Date</th>
                <th class="text-center">Count</th>
                <th class="text-center">Role</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.loginhistory.Count == 0)
            {
                <tr>
                    <td colspan="4">No record(s) found</td>
                </tr>
            }
            else
            {
                foreach (var item in Model.loginhistory)
                {
                    <tr>
                        <td class="lastlogintable text-center">
                            @Html.DisplayFor(modelItem => item.UserName)
                        </td>
                        <td class="lastlogintable text-center">
                            @Html.DisplayFor(modelItem => item.LastLoginDate)
                        </td>
                        <td class="lastlogintable text-center">
                            <span>@Html.DisplayFor(modelItem => item.Count)</span>
                        </td>
                        <td class="lastlogintable text-center">
                            @if(item.UserRole == "User")
                            {
                                <span>Customer</span>
                            }
                            else { 
                            @Html.DisplayFor(modelItem => item.UserRole)
                            }
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>

<style>
    .dataTables_wrapper .dataTables_paginate {
        padding-top: 0.55em !important;
    }

        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 0em 0em !important;
        }

    .paginate_button .previous {
        font-size: 19px !important;
    }

    .paginate_button .next {
        font-size: 19px !important;
    }

    .dataTables_paginate .paging_simple_numbers {
        font-size: 19px !important;
    }
</style>
<script type="text/javascript" class="init">
    var LoginUsersTable = '';
    $(document).ready(function () {
        window.alert = function () { /* do nothing here */ }
        LoginUsersTable =  $('#datalogin').DataTable({
            "ordering": false,
            "pageLength": 5,
            stateSave: true
        });
        $("#datalogin_length").hide();
        $("#datalogin_filter").hide();
        if ($('#datalogin td').attr('colspan') == '4') {
            $("#datalogin_info").hide();
            $("#datalogin_paginate").hide();
        } else {
        }
    });
</script>
































































































@* Below Code is for Custom paging*@

@*<div >
        <table class="table table-striped table-bordered" id="data">
            <thead>
                <tr>
                    <th class="text-center">Name</th>
                    <th class="text-center">Last Login Date</th>
                    <th class="text-center">Count</th>
                    <th class="text-center">Role</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.loginhistory.Count == 0)
                {
                    <tr>
                        <td colspan="4">No record(s) found</td>
                    </tr>
                }
                else
                {
                    foreach (var item in Model.loginhistory.Take(10))
                    {
                        <tr>
                            <td class="logintbl">
                                @Html.DisplayFor(modelItem => item.UserName)
                            </td>
                            <td class="logintbl">
                                @Html.DisplayFor(modelItem => item.LastLoginDate)
                            </td>
                            <td class="logintbl">
                                <span>@Html.DisplayFor(modelItem => item.Count)</span>
                            </td>
                            <td class="logintbl">
                                @Html.DisplayFor(modelItem => item.UserRole)
                            </td>
                        </tr>
                    }
                }

            </tbody>

        </table>
    </div>*@
@*@if (@Model.loginhistory.First().pageNumber > @Model.loginhistory.First().pageSize)
    {
        <tfoot>
            <tr>
                <td colspan="9">
                    @for (int i = 1; i <= @Model.loginhistory.First().totalPages; i++)
                    {
                        <a class="page-number" id="TEST" onclick="PagingOnBBL('@i') " href=" #">@i</a>
                    }
                </td>
            </tr>
        </tfoot>
    }*@
@*<ul class="pagination">
        <li><a href="#">1</a></li>
        <li class="active"><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
    </ul>*@

@*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>*@

@*<style>
        .pagingli {
            display: none;
        }

    </style>*@

@*<script>
        $(document).ready(function () {
            $('#data').after('<div class="col-md-12 pageposition" ></div>');
            $('.pageposition').html('<div id="pagingdiv"></div>')

         //   $('#data').after('<div id="pagingdiv"></div>');
            $('#pagingdiv').append('<ul class="pagination" id="pagingUl" style="text-align: right">');

                var rowsShown = 5;
                var rowsTotal = $('#data tbody tr').length;
                var numPages = rowsTotal / rowsShown;
                //for (i = 0; i < numPages; i++) {
                //    var pageNum = i + 1;
                    $('#pagingUl').append('<li class="pagingli"  >');

              //  }
                //for (i = 0; i < numPages; i++) {
                //    var pageNum = i + 1;
                //    $('.pagingli').css("display", "inline");

                //}
                for (i = 0; i < numPages; i++) {
                    var pageNum = i + 1;

                  //  $('.pagingli').css("display", "inline");
                      $('.pagingli').css("display", "inline");
                        $('.pagingli').append('<a href="#" rel="' + i + '">' + pageNum + '</a> ');
                      //  alert("HI-2");
                }

                $('#data tbody tr').hide();
                $('#data tbody tr').slice(0, rowsShown).show();
                $('#pagingdiv a:first').addClass('active');
                $('#pagingdiv a').bind('click', function () {

                    $('#pagingdiv a').removeClass('active');
                    $(this).addClass('active');
                    var currPage = $(this).attr('rel');
                    var startItem = currPage * rowsShown;
                    var endItem = startItem + rowsShown;
                    $('#data tbody tr').css('opacity','0.0').hide().slice(startItem, endItem).
                            css('display', 'table-row').animate({ opacity: 1 }, 300);
                    return false;
                });
            });
    </script>*@
